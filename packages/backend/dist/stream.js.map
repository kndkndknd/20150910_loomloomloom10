{"version":3,"file":"stream.js","sourceRoot":"","sources":["../src/stream.ts"],"names":[],"mappings":"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"}